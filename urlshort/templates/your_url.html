{% extends "base.html" %}
{% block title %}Your new vanity URL{% endblock %}
{% block content %}
<div class="card w-50 mt-4 position-relative start-50 translate-middle-x">
  <div class="card-header text-bg-success">
    New short URL created
  </div>
  <div class="card-body">
    <label for="basic-url" class="card-title" class="form-label">Your new vanity URL for <kbd>{{ context.url }}</kbd></label>
    <div class="input-group">
      <input id="fullURL" type="text" class="form-control" placeholder="{{ request.base_url }}/{{ context.slug }}" aria-label="Vanity URL" aria-describedby="button-copy" readonly>
      <button class="btn btn-outline-secondary" type="button" id="button-copy" onclick="copyURL()">Copy</button>
    </div>
  </div>
</div>
{% endblock %}
{% block js %}
<script>
function copyURL() {
  // Get the text field
  let copyText = document.getElementById("fullURL");

  // Select the text field
  copyText.select(); 
  copyText.setSelectionRange(0, 99999); // For mobile devices

    // Copy the text inside the text field
  navigator.clipboard.writeText(copyText.placeholder);

  // Alert the copied text
  alert("Copied the text: " + copyText.placeholder);
}
</script>
{% endblock %}